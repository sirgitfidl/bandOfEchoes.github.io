/* Responsive and dynamic CSS for the stem mixer UI (moved from mixer.js) */

/* Responsive layout for tablets, laptops, and phones */
@media (max-width: 1100px) {
    .mixer-wrap {
        width: 96vw;
        padding: 14px;
    }

    .topbar {
        flex-wrap: wrap;
        gap: 8px;
    }

    .transport {
        flex-wrap: wrap;
        gap: 8px;
    }

    .progress {
        width: 100% !important;
        order: 3;
    }

    .time {
        margin-left: auto;
    }

    .strips {
        grid-template-columns: repeat(4, minmax(0, 1fr));
        grid-template-areas:
            'instruments instruments vocals vocals'
            'guitar cello eric kathryn'
            'master master master master';
        column-gap: 10px;
        row-gap: 12px;
    }

    .fader {
        height: 180px;
    }
}

@media (max-width: 700px) {
    .mixer-wrap {
        width: 96vw;
        padding: 12px;
    }

    .strips {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        grid-template-areas:
            'instruments instruments'
            'guitar cello'
            'vocals vocals'
            'eric kathryn'
            'master master';
    }

    .fader {
        height: 160px;
    }

    .btn {
        padding: 7px 11px;
    }
}

@media (max-width: 480px) {
    body {
        padding: 12px;
    }

    .mixer-wrap {
        padding: 12px;
    }

    .strips {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        grid-template-areas:
            'instruments instruments'
            'guitar cello'
            'vocals vocals'
            'eric kathryn'
            'master master';
        column-gap: 8px;
        row-gap: 10px;
    }

    .fader {
        height: 140px;
    }

    .chip {
        padding: 5px 9px;
        font-size: 11px;
    }

    .group-banner {
        font-size: 9px;
        padding: 3px 8px;
    }

    .name {
        font-size: 13px;
    }

    .btn {
        padding: 6px 10px;
    }

    .progress {
        height: 12px;
    }
}

/* --- Mobile viewport vertical compression (content-aware, not transform scale) --- */
@media (max-width: 700px) {
    :root { --vhCompress: 1; }
    body.vh-compress { overflow: hidden; }
    body.vh-compress .page-title h1 { font-size: clamp(16px, calc(20px * var(--vhCompress)), 20px); }
    body.vh-compress .page-title .sub { font-size: clamp(11px, calc(13px * var(--vhCompress)), 13px); }
    body.vh-compress { padding-top: calc(16px * var(--vhCompress)); padding-bottom: calc(16px * var(--vhCompress)); }
    body.vh-compress .mixer-wrap { padding: calc(16px * var(--vhCompress)) calc(20px * var(--vhCompress)); }
    body.vh-compress .topbar { padding: calc(6px * var(--vhCompress)) 6px calc(10px * var(--vhCompress)); margin-bottom: calc(10px * var(--vhCompress)); }
    body.vh-compress .strips { row-gap: calc(16px * var(--vhCompress)); }
    body.vh-compress .strip { padding: calc(14px * var(--vhCompress)) 12px calc(12px * var(--vhCompress)); }
    body.vh-compress .strip .name { font-size: clamp(12px, calc(14px * var(--vhCompress)), 14px); }
    body.vh-compress .chip { padding: calc(5px * var(--vhCompress)) calc(10px * var(--vhCompress)); font-size: clamp(10px, calc(12px * var(--vhCompress)), 12px); }
    body.vh-compress .group-banner { padding: calc(4px * var(--vhCompress)) calc(10px * var(--vhCompress)); font-size: clamp(8px, calc(10px * var(--vhCompress)), 10px); }
    /* Fader heights: use base from responsive breakpoint (override existing sizes) */
    body.vh-compress .fader { height: clamp(120px, calc(var(--vhCompress) * 220px), 220px); }
    @media (max-width:1100px) { body.vh-compress .fader { height: clamp(120px, calc(var(--vhCompress) * 180px), 180px); } }
    @media (max-width:700px) { body.vh-compress .fader { height: clamp(110px, calc(var(--vhCompress) * 160px), 160px); } }
    @media (max-width:480px) { body.vh-compress .fader { height: clamp(100px, calc(var(--vhCompress) * 140px), 140px); } }
}


/* Progress and fader cap overlays (SVG backgrounds) are injected by JS and do not need static CSS here. */