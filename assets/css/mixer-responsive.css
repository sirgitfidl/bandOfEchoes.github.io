/* Responsive and dynamic CSS for the stem mixer UI (moved from mixer.js) */

/* Responsive layout for tablets, laptops, and phones */
@media (max-width: 1100px) {
    .mixer-wrap {
        width: 96vw;
        padding: 14px;
    }

    .topbar {
        flex-wrap: wrap;
        gap: 8px;
    }

    .transport {
        flex-wrap: wrap;
        gap: 8px;
    }

    .progress {
        width: 100% !important;
        order: 3;
    }

    .time {
        margin-left: auto;
    }

    .strips {
        grid-template-columns: repeat(4, minmax(0, 1fr));
        grid-template-areas:
            'instruments instruments vocals vocals'
            'guitar cello eric kathryn'
            'master master master master';
        column-gap: 10px;
        row-gap: 12px;
    }

    .fader {
        height: 180px;
    }
}

@media (max-width: 700px) {
    .mixer-wrap {
        width: 96vw;
        padding: 12px;
    }

    .strips {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        grid-template-areas:
            'instruments instruments'
            'guitar cello'
            'vocals vocals'
            'eric kathryn'
            'master master';
    }

    .fader {
        height: 160px;
    }

    .btn {
        padding: 7px 11px;
    }
}

@media (max-width: 480px) {
    body {
        padding: 12px;
    }

    .mixer-wrap {
        padding: 12px;
    }

    .strips {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        grid-template-areas:
            'instruments instruments'
            'guitar cello'
            'vocals vocals'
            'eric kathryn'
            'master master';
        column-gap: 8px;
        row-gap: 10px;
    }

    .fader {
        height: 140px;
    }

    .chip {
        padding: 5px 9px;
        font-size: 11px;
    }

    .group-banner {
        font-size: 9px;
        padding: 3px 8px;
    }

    .name {
        font-size: 13px;
    }

    .btn {
        padding: 6px 10px;
    }

    .progress {
        height: 12px;
    }
}

/* Viewport height compression (driven by JS setting body.vh-compress + --vhCompress) */
body.vh-compress {
    --c: var(--vhCompress, 1);
}

body.vh-compress .page-title h1 {
    font-size: calc(20px * var(--c));
}

body.vh-compress .page-title .sub {
    font-size: calc(13px * var(--c));
}

body.vh-compress .mixer-wrap {
    padding: calc(16px * var(--c)) calc(20px * var(--c));
}

body.vh-compress .group-banner {
    font-size: calc(10px * var(--c));
    padding: calc(4px * var(--c)) calc(10px * var(--c));
}

body.vh-compress .chip {
    font-size: calc(12px * var(--c));
    padding: calc(6px * var(--c)) calc(10px * var(--c));
}

body.vh-compress .btn {
    padding: calc(8px * var(--c)) calc(12px * var(--c));
    font-size: calc(14px * var(--c));
}

body.vh-compress .fader {
    height: calc(220px * var(--c));
}

body.vh-compress .strip {
    padding: calc(14px * var(--c)) calc(12px * var(--c)) calc(12px * var(--c));
    gap: calc(10px * var(--c));
}

body.vh-compress .strip .name {
    font-size: calc(14px * var(--c));
}

body.vh-compress .meter {
    height: calc(6px * var(--c));
}

body.vh-compress .meter>span {
    transition: width .08s linear;
}

body.vh-compress .progress {
    height: calc(10px * var(--c));
}

body.vh-compress .time {
    font-size: calc(14px * var(--c));
}

body.vh-compress .strips {
    column-gap: calc(14px * var(--c));
    row-gap: calc(16px * var(--c));
}

body.vh-compress .strip .row {
    gap: calc(8px * var(--c));
}

body.vh-compress .fader {
    width: calc(42px * var(--c));
}

body.vh-compress .progress {
    margin: 0 calc(10px * var(--c));
}

body.vh-compress .page-title {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 50;
    padding-top: calc(8px * var(--c));
    padding-bottom: calc(6px * var(--c));
    background: rgba(15, 17, 21, 0.9);
    backdrop-filter: blur(4px);
    margin: 0 auto;
    width: min(1100px, 100%);
}

body.vh-compress .mixer-wrap {
    margin-top: calc(var(--headerH, 72px) + 6px);
}

body.vh-compress {
    scroll-padding-top: var(--headerH, 72px);
}

/* Progress and fader cap overlays (SVG backgrounds) are injected by JS and do not need static CSS here. */